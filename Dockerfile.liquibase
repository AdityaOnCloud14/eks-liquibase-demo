# Use official Liquibase image as base
FROM liquibase/liquibase:latest

# Create liquibase directory structure inside container
RUN mkdir -p /liquibase/changelog

# Copy your changelogs (SQL) into container
ADD src/main/resources/db/ /liquibase/changelog/

# Default CMD will be overridden by the Kubernetes Job command
CMD ["sh", "-c", "echo 'Default Liquibase image ready. Use Kubernetes Jobs to run update or rollback.'"]
